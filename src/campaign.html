<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HelpingGreens | New Campaign</title>

  <!-- Tailwind CDN (for quick prototyping) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Small style tweaks -->
  <style>
    /* minor polishing while keeping Tailwind as main source */
    .tab-active {
      background: white;
      color: #000;
      box-shadow: 0 1px 0 rgba(0,0,0,0.04);
    }
    .tab-inactive {
      color: rgba(4,120,87,.85); /* text-green-800 with opacity-ish */
    }

    /* WYSIWYG content area consistent height + nicer scrolling */
    .wysiwyg {
      min-height: 140px;
      max-height: 260px;
      overflow-y: auto;
      outline: none;
    }

    /* subtle copy button */
    .copy-btn {
      background: #fff;
      border: 1px solid #EEF2F6;
      color: #16A34A; /* green */
      padding: .4rem .6rem;
      border-radius: .5rem;
    }

    /* dashed upload area: give more vertical space as requested */
    .hero-upload {
      min-height: 10rem; /* taller Y axis */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* keep input placeholder colors consistent */
    ::placeholder { color: rgba(16,24,24, .55); }
  </style>
</head>
<body class="bg-gray-100 text-gray-900">

  <div id="navbar"></div>

  <main class="bg-gray-100 min-h-screen py-12">
    <div class="container mx-auto px-6 md:px-20">

      <div class="bg-white p-6 rounded-2xl shadow-lg">

        <!-- Form and Summary -->
        <div class="flex flex-col lg:flex-row gap-10">

          <!-- FORM (left) -->
          <form action="#" class="bg-white p-8 flex-1 space-y-10" id="campaignForm" novalidate>

            <!-- Intro -->
            <div class="text-center md:text-left py-4">
              <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900 leading-tight mb-4">
                Create a New Campaign
              </h1>
              <p class="text-base md:text-lg text-gray-600 max-w-2xl">
                Fill in the details to launch your new fundraising campaign.
              </p>
            </div>

            <!-- Campaign Title & Goal -->
            <section>
              <div class="space-y-6 w-full">
                <div>
                  <label for="title" class="block font-medium mb-2">Campaign Title</label>
                  <input
                    type="text"
                    id="title"
                    placeholder="e.g., Spring Microgreens Fundraiser"
                    class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-green-600 focus:outline-none"
                  />
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label for="Goal" class="block font-medium mb-2">Fundraising Goal</label>
                    <input
                      type="text"
                      id="Goal"
                      placeholder="$5000"
                      class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-green-600 focus:outline-none"
                    />
                  </div>

                  <div>
                    <label for="product-type" class="block font-medium mb-2">Product Type</label>

                    <!-- Product toggle container (rounded) -->
                    <div id="productType" class="inline-flex items-center rounded-full bg-gray-50 p-1 gap-1">
                      <button type="button" data-type="fresh"
                        class="tab-btn tab-active rounded-full px-4 py-2 text-sm font-medium tab-active">
                        Fresh
                      </button>
                      <button type="button" data-type="powder"
                        class="tab-btn tab-inactive rounded-full px-4 py-2 text-sm font-medium">
                        Freeze-Dried
                      </button>
                    </div>

                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label for="start-date" class="block font-medium mb-2">Start Date</label>
                    <input
                      type="date"
                      id="start-date"
                      class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-green-600 focus:outline-none"
                    />
                  </div>

                  <div>
                    <label for="finish-date" class="block font-medium mb-2">Finish Date</label>
                    <input
                      type="date"
                      id="finish-date"
                      class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-green-600 focus:outline-none"
                    />
                  </div>
                </div>
              </div>
            </section>

            <!-- Description (WYSIWYG) -->
            <section>
              <label class="block font-medium mb-3">Description</label>

              <div class="w-full bg-neutral-50 border border-gray-200 rounded-xl overflow-hidden">
                <!-- Toolbar -->
                <div class="p-2 border-b border-gray-100 flex items-center gap-2">
                  <button type="button" id="btnBold" title="Bold"
                    class="px-2 py-1 rounded hover:bg-gray-100">
                    <!-- Bold icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13.5 7H8m0 0v10m5.5-10a3.5 3.5 0 010 7H8" /></svg>
                  </button>

                  <button type="button" id="btnItalic" title="Italic"
                    class="px-2 py-1 rounded hover:bg-gray-100">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 4h6M8 20h6M15 4l-6 16" /></svg>
                  </button>

                  <button type="button" id="btnUnderline" title="Underline"
                    class="px-2 py-1 rounded hover:bg-gray-100">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M6 3v6a6 6 0 0012 0V3m-12 14h12" /></svg>
                  </button>

                  <!-- BULLETS only (unordered list) -->
                  <button type="button" id="btnUL" title="Bulleted list"
                    class="px-2 py-1 rounded hover:bg-gray-100">
                    <!-- simple bullets icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor">
                      <path d="M2 5.5A1.5 1.5 0 113.5 7 1.5 1.5 0 012 5.5zM2 10.5A1.5 1.5 0 113.5 12 1.5 1.5 0 012 10.5zM2 15.5A1.5 1.5 0 113.5 17 1.5 1.5 0 012 15.5zM6 6h12v2H6V6zm0 5h12v2H6v-2zm0 5h12v2H6v-2z" />
                    </svg>
                  </button>

                  <div class="ml-auto text-sm text-gray-500">Tell the story of your campaign</div>
                </div>

                <!-- editable area -->
                <div id="editor" class="p-3 wysiwyg text-sm text-gray-800" contenteditable="true" placeholder="Write a short, compelling description...">
                  <!-- start with a short placeholder content (editable) -->
                </div>
              </div>
            </section>

            <!-- Hero Image Upload -->
            <section>
              <label class="font-semibold mb-2 block">Hero Image</label>

              <div id="heroUpload" class="hero-upload w-full bg-gray-100 border border-dashed border-gray-300 rounded-lg px-4 py-8 text-center cursor-pointer">
                <div class="flex flex-col items-center gap-3">
                  <img src="./assets/icons/upload2.png" class="w-6 h-6 mx-auto" alt="upload">
                  <p class="text-gray-600">Click to upload or drag & drop</p>
                  <p class="text-sm text-gray-500">PNG, JPG or GIF (REC. 1200 x 630px)</p>
                </div>

                <!-- hidden file input triggered by the above area -->
                <input type="file" id="heroFileInput" accept="image/*" class="hidden" />
              </div>
            </section>

            <!-- Slug & Extras -->
            <section>
              <div class="space-y-4">
                <div>
                  <label for="page-slug" class="font-semibold mb-2 block">Landing Page Slug</label>
                  <div class="flex items-center rounded-xl w-full md:w-1/2 gap-2 bg-gray-300 p-2">
                    <p class="text-gray-800">green.org/c/</p>
                    <input type="text" id="slugInput" class="flex-1 bg-transparent border-0 outline-none px-2" placeholder="campaign-slug" />
                  </div>
                </div>

                <div class="flex items-center gap-2">
                  <input type="checkbox" id="autoAssets" class="accent-green-600">
                  <label for="autoAssets" class="text-sm text-gray-700">Generate promo assets automatically.</label>
                </div>
              </div>
            </section>

          </form>

          <!-- ASIDE SUMMARY (right) -->
          <aside class="bg-gray-100 p-6 w-full lg:w-1/3 rounded-2xl">
            <h2 class="text-xl font-bold mb-6 text-gray-800 border-b border-gray-200 pb-2">Share Preview</h2>

            <div class="space-y-4 text-gray-700">

              <!-- Shareable link with copy button (no heavy bg as requested) -->
              <div class="mb-6">
                <label for="shareLink" class="block font-medium mb-3">Shareable Link</label>
                <div class="relative">
                  <img src="./assets/icons/link.png" alt="link" class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-auto opacity-70" />
                  <input id="shareLink" type="text" placeholder="green.org/c/campaign-slug" class="w-full border border-gray-300 rounded-lg pl-10 pr-28 py-2 focus:ring-2 focus:ring-green-600 focus:outline-none" />
                  <button id="copyBtn" class="absolute right-2 top-1/2 transform -translate-y-1/2 copy-btn text-green-600">Copy</button>
                </div>
              </div>

              <!-- Social Post Preview -->
              <div>
                <p class="block font-medium mb-3">Social Post Review</p>
                <div class="bg-white p-4 border border-gray-200 rounded-xl">
                  <div class="flex gap-4 items-center mb-3">
                    <img src="./assets/icons/userimg.png" class="w-10 h-10 rounded-full object-cover" alt="nonprofit">
                    <div>
                      <p class="font-semibold">A Helping of Greens</p>
                      <p class="text-xs text-gray-500">Just now</p>
                    </div>
                  </div>

                  <p class="text-sm text-gray-800 mb-3">
                    Support our new campaign: Spring Microgreens Fundraiser! Your contribution helps us deliver fresh, nutritious greens to local communities. ðŸŒ±
                  </p>

                  
                    <img src="./assets/icons/producthero.png" alt="" class="w-full h-fit md:h-36 bg-gray-50 rounded-md border border-gray-200 flex items-center justify-center text-gray-400 mb-3">
                 

                  <p class="text-xs text-gray-500 uppercase">GREENS.ORG</p>
                  <p class="font-bold">Spring Microgreens Fundraiser</p>
                </div>
              </div>
            </div>
          </aside>
        </div>

        <!-- Action buttons -->
        <div class="flex gap-2 justify-end items-center mt-4">
          <a href="#" class="inline-block">
            <button type="button" class="py-2 px-4 font-semibold rounded-lg hover:bg-gray-100 transition">Cancel</button>
          </a>

          <a href="#" class="inline-block">
            <button id="createCampaignBtn" type="button" class="bg-green-600 text-white py-2 px-4 font-semibold rounded-lg hover:bg-green-700 transition">Create campaign</button>
          </a>
        </div>

      </div>
    </div>
  </main>

  <div id="footerTwo"></div>

  <!-- Minimal JS for behaviours -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      /* ---------- Product type toggle ---------- */
      const productButtons = document.querySelectorAll('#productType .tab-btn');
      let selectedProduct = 'fresh'; // default

      function setProductActive(type) {
        selectedProduct = type;
        productButtons.forEach(btn => {
          if (btn.dataset.type === type) {
            btn.classList.remove('tab-inactive');
            btn.classList.add('tab-active');
          } else {
            btn.classList.remove('tab-active');
            btn.classList.add('tab-inactive');
          }
        });
      }

      productButtons.forEach(btn => {
        btn.addEventListener('click', () => setProductActive(btn.dataset.type));
      });

      setProductActive(selectedProduct);

      /* ---------- WYSIWYG toolbar (Bold, Italic, Underline, Unordered list only) ---------- */
      const editor = document.getElementById('editor');

      // execCommand works in many browsers for simple editors (OK for prototyping)
      function exec(cmd) {
        document.execCommand(cmd, false, null);
        editor.focus();
      }

      document.getElementById('btnBold').addEventListener('click', () => exec('bold'));
      document.getElementById('btnItalic').addEventListener('click', () => exec('italic'));
      document.getElementById('btnUnderline').addEventListener('click', () => exec('underline'));

      // unordered list (bullets)
      document.getElementById('btnUL').addEventListener('click', () => {
        exec('insertUnorderedList');
      });

      /* ---------- Hero image upload (single button triggers hidden input) ---------- */
      const heroArea = document.getElementById('heroUpload');
      const heroInput = document.getElementById('heroFileInput');

      // clicking area opens select
      heroArea.addEventListener('click', () => heroInput.click());

      // handle drag & drop (basic)
      heroArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        heroArea.classList.add('ring-2','ring-green-300');
      });
      heroArea.addEventListener('dragleave', (e) => {
        heroArea.classList.remove('ring-2','ring-green-300');
      });
      heroArea.addEventListener('drop', (e) => {
        e.preventDefault();
        heroArea.classList.remove('ring-2','ring-green-300');
        if (e.dataTransfer.files && e.dataTransfer.files.length) {
          heroInput.files = e.dataTransfer.files;
          // optional: you can preview or upload here
        }
      });

      // file selected
      heroInput.addEventListener('change', () => {
        const f = heroInput.files[0];
        if (!f) return;
        // simple preview placeholder: replace preview area with thumbnail
        const reader = new FileReader();
        reader.onload = (ev) => {
          // create img preview
          const preview = document.createElement('img');
          preview.src = ev.target.result;
          preview.className = 'max-h-40 rounded-md object-cover';
          // clear hero area and append preview + filename
          heroArea.innerHTML = '';
          const wrapper = document.createElement('div');
          wrapper.className = 'flex flex-col items-center gap-2';
          wrapper.appendChild(preview);
          const fn = document.createElement('p');
          fn.className = 'text-sm text-gray-700';
          fn.textContent = f.name;
          wrapper.appendChild(fn);
          heroArea.appendChild(wrapper);
        };
        reader.readAsDataURL(f);
      });

      /* ---------- Copy share link ---------- */
      const copyBtn = document.getElementById('copyBtn');
      const shareInput = document.getElementById('shareLink');

      copyBtn.addEventListener('click', async () => {
        const val = shareInput.value || window.location.href;
        try {
          await navigator.clipboard.writeText(val);
          copyBtn.textContent = 'Copied';
          setTimeout(() => copyBtn.textContent = 'Copy', 1500);
        } catch (err) {
          // fallback
          const tmp = document.createElement('textarea');
          tmp.value = val;
          document.body.appendChild(tmp);
          tmp.select();
          document.execCommand('copy');
          tmp.remove();
          copyBtn.textContent = 'Copied';
          setTimeout(() => copyBtn.textContent = 'Copy', 1500);
        }
      });

      /* ---------- Create campaign click (basic validation demo) ---------- */
      document.getElementById('createCampaignBtn').addEventListener('click', () => {
        // basic required fields check (title)
        const title = document.getElementById('title').value.trim();
        if (!title) {
          alert('Please add a campaign title before creating.');
          return;
        }
        // gather payload (demo)
        const payload = {
          title,
          goal: document.getElementById('Goal').value.trim(),
          product: selectedProduct,
          start: document.getElementById('start-date').value,
          finish: document.getElementById('finish-date').value,
          slug: document.getElementById('slugInput').value.trim(),
          description: editor.innerHTML,
        };
        // For now we just log â€” integrate with backend when ready
        console.log('Create campaign payload:', payload);
        alert('Campaign created (frontend demo). Integrate with backend to persist.');
      });

    }); // DOMContentLoaded
  </script>
</body>
</html>
